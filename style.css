/*
 Theme Name:   Hello Elementor Child
 Theme URI:    https://websbraga.com//hello-elementor-child/
 Description:  Tema Filho para o Hello Elementor com customizações.
 Author:       Mike
 Author URI:   https://websbraga.com/
 Template:     hello-elementor
 Version:      1.0.0
 License:      GNU General Public License v2 or later
 License URI:  http://www.gnu.org/licenses/gpl-2.0.html
 Text Domain:  hello-elementor-child
*/

/* --- Estilos do Chatbot e Lançador (VERSÃO 3.0) --- */

/* --- Lançador (Ícone) --- */
/* --- Estilos do Chatbot e Lançador (VERSÃO 4.0 - PREMIUM) --- */

/* --- Lançador (Ícone) --- */
/* --- Estilos do Chatbot e Lançador (VERSÃO 5.0 - DESIGNER) --- */

/* --- Lançador (Ícone) --- */
#chat-launcher {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background-color: #007bff;
    border-radius: 50%;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9998;
    transition: all 0.3s ease-in-out;
}
#chat-launcher:hover { transform: scale(1.1); }
#chat-launcher img { 
    width: 60px; 
    height: 60px; 
    border-radius: 50%; 
    object-fit: cover;
}
#chat-launcher.launcher-hidden { transform: scale(0); opacity: 0; pointer-events: none; }
.notification-badge {
    position: absolute;
    top: -2px;
    right: -2px;
    width: 20px;
    height: 20px;
    background-color: #ff0000;
    color: white;
    border-radius: 50%;
    font-size: 12px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid white;
}

/* --- Janela Principal do Chat --- */
#meu-chat {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 370px;
    z-index: 9999;
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    display: flex;
    flex-direction: column;
    max-height: calc(100vh - 40px); /* Garante que o chat não seja maior que a tela */
}
#meu-chat.chat-hidden { opacity: 0; transform: translateY(20px) scale(0.95); pointer-events: none; }
#meu-chat.chat-visible { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }

/* --- Partes Internas do Chat --- */
#chat-header {
    background: #E81E8C;
    color: #fff;
    font-weight: bold;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 15px 15px 0 0;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    flex-shrink: 0; /* Impede que o header encolha */
}
#chat-close-btn { background: none; border: none; color: white; font-size: 24px; line-height: 1; cursor: pointer; padding: 0 5px; opacity: 0.8; transition: opacity 0.2s; }
#chat-close-btn:hover { opacity: 1; }

#chat-body {
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    background-color: rgba(244, 247, 249, 0); /* <<< FUNDO SEMI-TRANSPARENTE */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    flex-grow: 1; /* Faz o corpo do chat ocupar o espaço disponível */
    height: 450px;
}

/* --- NOVO ESTILO DAS MENSAGENS COM AVATAR --- */
.chat-message { display: flex; max-width: 90%; margin-bottom: 15px; }
.chat-message.bot { align-self: flex-start; align-items: flex-end; /* Alinha o avatar com a base */ }
.chat-message.user { align-self: flex-end; justify-content: flex-end; }

.avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 10px;
    flex-shrink: 0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}
.avatar img { width: 100%; height: 100%; object-fit: cover; }

.message-content {
    padding: 10px 15px;
    border-radius: 18px;
    line-height: 1.5;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
/* Balão de fala da BIA (com "rabicho") */
.chat-message.bot .message-content { background: #fff; color: #000; border-bottom-left-radius: 4px; }
/* Balão de fala do Usuário */
.chat-message.user .message-content { background: #007bff; color: white; border-bottom-right-radius: 4px; }
.chat-message.user { padding-left: 40px; } /* Espaço para alinhar com as mensagens da BIA */


/* --- NOVO RODAPÉ ESTILO "PILL" --- */
#chat-footer {
    padding: 10px;
    background-color: rgba(255, 255, 255, 0);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: 0 0 15px 15px;
    flex-shrink: 0; /* Impede que o footer encolha */
}
#chat-form {
    display: flex;
    align-items: center;
    position: relative; /* Contexto de posicionamento para o botão */
}
#chat-input {
    border: 1px solid #ddd;
    background-color: #fff;
    padding: 12px 60px 12px 20px;
    flex-grow: 1;
    border-radius: 22px;
    width: 100%;
}
#chat-input:focus { outline: none; border-color: #007bff; }

/**
 * Botão de Enviar do Chatbot - Estilo Padrão do Site
 */
#chat-form button {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    
    /* 1. Estilo do Gradiente e Formato */
    background: linear-gradient(to right, #6A0DAD, #E81E8C) !important;
    background-size: 200% auto;
    background-position: left center;
    border: none;
    border-radius: 22px; /* << Deixando em formato de pílula, não mais um círculo */
    cursor: pointer;
    
    /* 2. Estilo do Texto */
    color: white;
    font-weight: bold;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    
    /* 3. Espaçamento e Transição */
    padding: 8px 20px; /* << Espaçamento interno para o texto */
    transition: all 0.4s ease-in-out;

    /* 4. REMOVENDO o ícone de avião antigo */
    background-image: none;
}

/* Adicionando o texto "Enviar" via CSS para não precisar mexer no HTML */
#chat-form button::before {
    content: 'Enviar';
}

/* Efeito de hover, igual aos outros botões do site */
#chat-form button:hover {
    background-position: right center !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

/*
 * Ajustes para telas menores (smartphones) - VERSÃO FINAL
 */
@media (max-width: 768px) {
    #meu-chat {
        /* * A Estratégia agora é outra:
         * Ancoramos o chat nas 4 bordas da tela com um respiro.
         * O navegador calcula a altura e largura sozinho. Fica perfeito.
        */
        top: 15px;    /* 15px de distância do topo */
        bottom: 15px; /* 15px de distância de baixo */
        left: 15px;   /* 15px de distância da esquerda */
        right: 15px;  /* 15px de distância da direita */

        /* Anulamos as propriedades antigas pra não dar conflito */
        width: auto;
        height: auto;
        transform: none; /* Não precisamos mais da gambiarra de centralização */
    }

    /* Mantemos os ajustes de fonte e avatar que são uma boa prática */
    .avatar {
        width: 40px;
        height: 40px;
    }
    .message-content {
        font-size: 14px;
    }
}